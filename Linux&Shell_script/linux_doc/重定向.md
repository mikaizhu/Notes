重定向指的是将命令行输出写入到指定位置。

大多数 UNIX 系统命令从你的终端接受输入并将所产生的输出发送回到您的终端。一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。

**也就是说，标准输入是终端，标准输出和标准错误默认也是终端。**

一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：

- 标准输入文件(stdin)：stdin的文件描述符为0，Unix程序默认从stdin读取数据。
- 标准输出文件(stdout)：stdout 的文件描述符为1，Unix程序默认向stdout输出数据。
- 标准错误文件(stderr)：stderr的文件描述符为2，Unix程序会向stderr流中写入错误信息。

默认情况下，command > file 将 stdout 重定向到 file，command < file 将stdin 重定向到 file。

如果希望 stderr 重定向到 file，可以这样写：

**使用方式为左边有空格，右边没空格**

```
# 单独使用>重定向，错误信息不会写入到file文件中,如果不写，默认为 1，也就是标准输出文件。
command 2>file

# 或者是使用，这样错误信息等都会聚合到file文件中
command &>file
```

如果希望对 stdin 和 stdout 都重定向，可以这样写：

```
command < file1 >file2
```

command 命令将 stdin 重定向到 file1，将 stdout 重定向到 file2。也就是先执行输入重定向，然后执行输出重定向。

**参考**：

- https://www.runoob.com/linux/linux-shell-io-redirections.html
- https://baike.baidu.com/item/%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA
- http://c.biancheng.net/view/942.html

1. **输出重定向**

\> 命令会覆盖

\>> 不会覆盖

```
df -h > info.log # 存储信息会到info.log中，但是会覆盖原来的文件
df -h >> info.log # 不会覆盖原来的文件，在文件末尾加

# 输出重定向是定向到文件中
```

2. **输入重定向**

输入重定向是指把命令（或可执行程序）的标准输入重定向到指定的文件中。也就是说，输入可以不来自键盘，而来自一个指定的文件。所以说，输入重定向主要用于改变一个命令的输入源，特别是改变那些需要大量输入的输入源。

<

一般使用方式是与wc进行结合

```
wc -l <readme.txt  #输入重定向
```

<< 使用方式为一个小的文档

方法：

```
# delimiter 为结束标志，中间的为文本
command << delimiter
    document
delimiter
```

例子：

```
cat << EOF
欢迎来到
菜鸟教程
www.runoob.com
EOF
```

3. **管道命令**

比如现在有个需求：统计运行程序打印的日志中，有多少个log。有一个办法是，使用重定向，将日志记录到一个文件中，然后使用grep命令进行搜索，搜索结果再保存到一个文件中，使用wc命令再统计这个文件。

这样我们中间要新建文件。

使用管道命令可以避免这个问题。

```
grep log log.info | wc -c
# 搜索log日志中有多少行log关键字，然后打印出来，使用管道可以不用输入到一个文件中，直接作为下个命令的输入
```

管道可以把一系列命令连接起来，这意味着第一个命令的输出会作为第二个命令的输入通过管道传给第二个命令，第二个命令的输出又会作为第三个命令的输入，以此类推。显示在屏幕上的是管道行中最后一个命令的输出（如果命令行中未使用输出重定向）。