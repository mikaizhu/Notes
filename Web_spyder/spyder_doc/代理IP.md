## 代理IP

**什么是IP地址？**

电脑的网卡有两种地址：**MAC地址和IP地址**。其中MAC地址48位，称为物理地址，固化在网卡的ROM中，很难更改，在局域网范围内有效；IP地址32位，成为逻辑地址，需要用户自行配置或者通过DHCP服务器获取。

**IP地址和子网掩码**，用于判断IP地址的网络号和主机号。网络号用于标识某个主机属于哪个网络，主机号用于判断某台主机，比如192.168.6.123 255.255.255.0这台主机，网络号为192.168.6.0，主机号为192.168.6.123。

**网关IP地址**，每台终端与外界通信，首先需要经过网关IP地址对应的网络设备，相当于访问外网的“大门”，网关IP地址通常是路由器的IP地址，网关地址与本地IP地址属于同一个网段。

**DNS地址**，我们通常使用域名访问某个网站，需要将域名转换成IP地址，而DNS服务器可以完成这个转换，DNS地址对应的就是DNS服务器的IP地址。

IP地址就像是我们的家庭住址一样，如果你要写信给一个人，你就要知道他（她）的地址，这样邮递员才能把信送到。计算机发送信息就好比是邮递员，它必须知道唯一的“家庭地址”才能不至于把信送错人家。只不过我们的地址是用文字来表示的，计算机的地址用二进制数字表示。

参考：https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80

**为什么要代理IP？**

因为有些网站存在一种反扒机制，如果用户的iP在单位时间内访问频率过高，就会被封，服务器就不会再响应这个IP。

**什么是代理IP？**

通常我们浏览器发送请求，都是直接给服务器发送，代理IP就是，我们浏览器不是直接发送给服务器，而是先发送给代理服务器，**然后代理服务器再将我们的请求发送给服务器。**代理服务器成了一个中间商。

**代理IP的作用**

- 突破自身IP的限制
- 隐藏自身真实IP

**代理相关的网站：**

- 快代理 # 有免费代理，但是要收费
- www.goubanjia.com # 这个好像没用了
- 西祠代理

**这里使用https://www.kuaidaili.com/free/**免费IP进行测试

**代理IP类型：**

- http：只能应用到http协议对应的URL中
- https：应用到https协议对应的URL中

**代理IP的匿名度：**

- 透明：服务器知道该次请求使用了代理，服务器也知道我们本机真实的IP
- 匿名：服务器知道使用了代理，但是不知道我本机的IP
- 高匿：服务器不知道使用了代理，也不知道我本机的IP

**代码使用IP：**

```
proxies={'https':'101.236.54.97:8866'} #此处也可以通过列表形式，设置多个代理IP，后面通过random.choice()随机选取一个进行使用
res=requests.get(url,proxies=proxies,timeout=10)
```

首先在百度中搜索IP，然后界面就会出现本地IP地址

https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&ch=&tn=baidu&bar=&wd=%E6%9C%AC%E5%9C%B0IP&oq=ip&rsv_pq=f38d29a300355731&rsv_t=02f6dI%2FnbgEi0qtzpI7v7OEQMfvejOwgvAaRAH5GxetlWvyVWiwfEHXzjD8&rqlang=cn&rsv_enter=1&rsv_btype=t&rsv_dl=tb&inputT=3580

简化下URL：

https://www.baidu.com/s?wd=%E6%9C%AC%E5%9C%B0IP&oq=ip

发现直接使用requests中的get方法得不到本地IP，原来IP是动态加载的ajax文件

```

```

问题记录：

比如我现在要爬取本地IP地址，爬取的网站为：https://apis.baidu.com/store/aladdin/land?cardType=ipSearch

浏览器访问的结果如图：

